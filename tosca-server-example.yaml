tosca_definitions_version: tosca_simple_yaml_1_0

imports:
  - toscatranslator/common/TOSCA_definition_1_0.yaml

topology_template:
  node_templates:
    server_kube_master:
      type: tosca.nodes.Compute
      attributes:
        meta: "cube_master=true"
        private_address: 192.168.12.25
        public_address: 10.100.115.15
        networks:
          some_net:
            network_name: test-two-routers
          the_same_net:
            network_id: 395403d1-a90d-4cc4-8bf3-5d9adc91df27
          one_more_way:
            addresses: [192.168.12.25]
        ports: # find already existing by one of the parameters
          second_more_port:
            mac_address: fa:16:3e:98:06:46

      capabilities:
        host:
          properties:
            num_cpus: 1
#            disk_size: 160 MiB
#            mem_size: 1024 MiB
        endpoint:
          properties:
            protocol: tcp
            port: 1000
#            network_name: vpc-certain-ip
            initiator: target
          attributes:
            ip_address: 0.0.0.0
        os:
          properties:
            architecture: x86_64
            type: ubuntu
            distribution: xenial
            version: 16.04

    server_kube_slave_0:
      type: tosca.nodes.Compute
      attributes:
        meta: "cube_master=false"
        private_address: 192.168.12.26
        public_address: 10.100.115.16
        networks:
          some_net:
            network_name: test-two-routers
          the_same_net:
            network_id: 395403d1-a90d-4cc4-8bf3-5d9adc91df27
          one_more_way:
            addresses: [192.168.12.25]

      capabilities:
        host:
          properties:
            num_cpus: 1
#            disk_size: 160 MiB
#            mem_size: 1024 MiB
        endpoint:
          properties:
            protocol: tcp
            port: 1000
#            network_name: vpc-certain-ip
            initiator: target
          attributes:
            ip_address: 0.0.0.0
        os:
          properties:
            architecture: x86_64
            type: ubuntu
            distribution: xenial
            version: 16.04

    server_kube_slave_1:
      type: tosca.nodes.Compute
      attributes:
        meta: "cube_master=false"
        private_address: 192.168.12.27
        public_address: 10.100.115.17
        networks:
          some_net:
            network_name: test-two-routers
          the_same_net:
            network_id: 395403d1-a90d-4cc4-8bf3-5d9adc91df27
          one_more_way:
            addresses: [192.168.12.25]

      capabilities:
        host:
          properties:
            num_cpus: 1
#            disk_size: 160 MiB
#            mem_size: 1024 MiB
        endpoint:
          properties:
            protocol: tcp
            port: 1000
#            network_name: vpc-certain-ip
            initiator: target
          attributes:
            ip_address: 0.0.0.0
        os:
          properties:
            architecture: x86_64
            type: ubuntu
            distribution: xenial
            version: 16.04

    server_kube_slave_2:
      type: tosca.nodes.Compute
      attributes:
        meta: "cube_master=false"
        private_address: 192.168.12.28
        public_address: 10.100.115.18
        networks:
          some_net:
            network_name: test-two-routers
          the_same_net:
            network_id: 395403d1-a90d-4cc4-8bf3-5d9adc91df27
          one_more_way:
            addresses: [192.168.12.25]

      capabilities:
        host:
          properties:
            num_cpus: 1
#            disk_size: 160 MiB
#            mem_size: 1024 MiB
        endpoint:
          properties:
            protocol: tcp
            port: 1000
#            network_name: vpc-certain-ip
            initiator: target
          attributes:
            ip_address: 0.0.0.0
        os:
          properties:
            architecture: x86_64
            type: ubuntu
            distribution: xenial
            version: 16.04
